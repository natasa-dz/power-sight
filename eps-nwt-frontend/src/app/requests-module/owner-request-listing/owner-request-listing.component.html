<div class="background">
  <div class="placeholder">
    <div class="h-background">
      <h2>Real Estate Requests</h2>
    </div>
    <div class="sort-filter">
      <button class="toggle-filters-btn" (click)="toggleFilters()">
        {{ showFilters ? 'Ã—' : 'Filters' }}
      </button>
      <div class="filter" *ngIf="showFilters" >
        <!--<label>Filters:&nbsp;&nbsp;&nbsp;</label>-->
        <label>
          Status:
          <select class="filter-select" [(ngModel)]="filterParams.status" (ngModelChange)="applyFilters()">
            <option value="">All</option>
            <option value="APPROVED">Approved</option>
            <option value="CREATED">Created</option>
            <option value="DENIED">Denied</option>
          </select>
        </label>
        <div class="dates">
          <label>
            Created From Date:
            <input type="date" [(ngModel)]="filterParams.createdFromDate" (ngModelChange)="applyFilters()" />
          </label>
          <label>
            Created To Date:
            <input type="date" [(ngModel)]="filterParams.createdToDate" (ngModelChange)="applyFilters()" />
          </label>
        </div>
        <div class="dates">
          <label>
            Finished From Date:
            <input type="date" [(ngModel)]="filterParams.finishedFromDate" (ngModelChange)="applyFilters()" />
          </label>
          <label>
            Finished To Date:
            <input type="date" [(ngModel)]="filterParams.finishedToDate" (ngModelChange)="applyFilters()" />
          </label>
        </div>
        <div class="address">
          <label>
            Address:
            <input type="text" [(ngModel)]="filterParams.address" (ngModelChange)="applyFilters()" />
          </label>
          <label>
            Municipality:
            <input type="text" [(ngModel)]="filterParams.municipality" (ngModelChange)="applyFilters()" />
          </label>
          <label>
            Town:
            <input type="text" [(ngModel)]="filterParams.town" (ngModelChange)="applyFilters()" />
          </label>
        </div>
        <button class="reset-btn" (click)="resetFilters()">Reset Filters</button>
      </div>
      <div class="sort">
        <label >Sort by:&nbsp;&nbsp;&nbsp;</label>
        <select [(ngModel)]="sortType" (ngModelChange)="sortRequests()" >
          <option value="createdAtAsc">Created Date (Ascending)</option>
          <option value="createdAtDesc">Created Date (Descending)</option>
          <option value="finishedAtAsc">Finished Date (Ascending)</option>
          <option value="finishedAtDesc">Finished Date (Descending)</option>
        </select>
      </div>
    </div>
    <div *ngFor="let request of filteredRequests" class="card_div">
      <app-owner-request-card [request]="request" ></app-owner-request-card>
    </div>
  </div>
</div>
